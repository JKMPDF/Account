import{u as f,r as s,C as g,d as j,j as e,S as k}from"./index-D93vVwhB.js";import{e as N}from"./accounting-tZ5hxOR_.js";import{f as m}from"./exportUtils-JZTId_Jh.js";const S=()=>{f();const{companyData:x}=s.useContext(g),{startDate:d,endDate:l}=j(),{stockItems:o=[],vouchers:i=[],godowns:a=[]}=x,[n,b]=s.useState("all"),h=s.useMemo(()=>[{value:"all",label:"All Godowns"},...a.map(r=>({value:r.id,label:r.name}))],[a]),u=s.useMemo(()=>N(o,i,a,d,l),[o,i,a,d,l]);return e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Stock Summary"}),e.jsxs("p",{className:"text-lg text-slate-500 dark:text-slate-400",children:["For the period from ",e.jsx("span",{className:"font-semibold text-sky-500 dark:text-sky-400",children:m(d)})," to ",e.jsx("span",{className:"font-semibold text-sky-500 dark:text-sky-400",children:m(l)})]})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx(k,{label:"",id:"godown-filter",value:n,onChange:b,options:h,className:"w-48"})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsxs("thead",{className:"text-left text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-900/50",children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,className:"p-3 font-medium border-b border-r border-slate-200 dark:border-slate-700",children:"Particulars"}),e.jsx("th",{colSpan:2,className:"p-3 font-medium text-center border-b border-r border-slate-200 dark:border-slate-700",children:"Opening Balance"}),e.jsx("th",{colSpan:2,className:"p-3 font-medium text-center border-b border-r border-slate-200 dark:border-slate-700",children:"Inwards"}),e.jsx("th",{colSpan:2,className:"p-3 font-medium text-center border-b border-r border-slate-200 dark:border-slate-700",children:"Outwards"}),e.jsx("th",{colSpan:2,className:"p-3 font-medium text-center border-b border-slate-200 dark:border-slate-700",children:"Closing Balance"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Quantity"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Value"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Quantity"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Value"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Quantity"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Value"}),e.jsx("th",{className:"p-3 font-medium text-right border-r border-slate-200 dark:border-slate-700",children:"Quantity"}),e.jsx("th",{className:"p-3 font-medium text-right",children:"Value"})]})]}),e.jsx("tbody",{children:o.map(r=>{const c=u.get(r.id);if(!c)return null;const t=c.godowns.get(n)||(n==="all"?c.total:null);if(!t||t.closingQty===0&&t.openingQty===0&&t.inwardQty===0&&t.outwardQty===0)return null;const p=r.reorderLevel&&t.closingQty<r.reorderLevel;return e.jsxs("tr",{className:"border-b border-slate-200/50 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[e.jsxs("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-200",children:[r.name," ",e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",r.unit,")"]}),p&&e.jsx("span",{className:"ml-2 text-xs font-bold text-red-500 dark:text-red-400 bg-red-100 dark:bg-red-900/50 px-2 py-0.5 rounded-full",children:"LOW"})]}),e.jsx("td",{className:"p-3 text-right font-mono",children:t.openingQty}),e.jsx("td",{className:"p-3 text-right font-mono border-r border-slate-200 dark:border-slate-700",children:t.openingValue.toFixed(2)}),e.jsx("td",{className:"p-3 text-right font-mono",children:t.inwardQty}),e.jsx("td",{className:"p-3 text-right font-mono border-r border-slate-200 dark:border-slate-700",children:t.inwardValue.toFixed(2)}),e.jsx("td",{className:"p-3 text-right font-mono",children:t.outwardQty}),e.jsx("td",{className:"p-3 text-right font-mono border-r border-slate-200 dark:border-slate-700",children:t.outwardValue.toFixed(2)}),e.jsx("td",{className:"p-3 text-right font-mono font-bold",children:t.closingQty}),e.jsx("td",{className:"p-3 text-right font-mono font-bold",children:t.closingValue.toFixed(2)})]},r.id)})})]})})})]})};export{S as default};
