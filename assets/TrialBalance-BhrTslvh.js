import{r as f,C as j,d as p,j as e,B as k,t as N}from"./index-D93vVwhB.js";import{c as u}from"./accounting-tZ5hxOR_.js";import{e as v}from"./pdfGenerator-BheaZc2-.js";import{f as D}from"./exportUtils-JZTId_Jh.js";const B=()=>{const{companyData:o}=f.useContext(j),{startDate:x,endDate:s}=p(),{ledgers:n=[],vouchers:m=[]}=o,{debitTotal:r,creditTotal:d,rows:h}=f.useMemo(()=>{const{closingBalances:t}=u(n,m,x,s);let l=0,b=0;const i=[];return n.forEach(c=>{const a=t.get(c.id)||0;Math.abs(a)>.001&&(a>0?(i.push({name:c.name,debit:a,credit:0}),l+=a):(i.push({name:c.name,debit:0,credit:-a}),b+=-a))}),{debitTotal:l,creditTotal:b,rows:i}},[n,m,x,s]),g=()=>{o&&v(h,r,d,s,o)};return e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Trial Balance"}),e.jsxs("p",{className:"text-lg text-slate-500 dark:text-slate-400",children:["For the period ending ",e.jsx("span",{className:"font-semibold text-sky-500 dark:text-sky-400",children:D(s)})]})]}),e.jsxs(k,{onClick:g,variant:"secondary",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),"Download PDF"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-left text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-medium",children:"Particulars"}),e.jsx("th",{className:"p-3 font-medium text-right",children:"Debit"}),e.jsx("th",{className:"p-3 font-medium text-right",children:"Credit"})]})}),e.jsx("tbody",{children:h.map((t,l)=>e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[e.jsx("td",{className:"p-3 text-slate-800 dark:text-slate-200",children:t.name}),e.jsx("td",{className:"p-3 text-right font-mono text-green-600 dark:text-green-400",children:t.debit>0?t.debit.toFixed(2):""}),e.jsx("td",{className:"p-3 text-right font-mono text-orange-600 dark:text-orange-400",children:t.credit>0?t.credit.toFixed(2):""})]},l))}),e.jsx("tfoot",{className:"bg-slate-100 dark:bg-slate-900/50 font-bold text-lg",children:e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 text-slate-800 dark:text-slate-200",children:"Total"}),e.jsx("td",{className:"p-3 text-right font-mono text-green-700 dark:text-green-300",children:r.toFixed(2)}),e.jsx("td",{className:"p-3 text-right font-mono text-orange-700 dark:text-orange-300",children:d.toFixed(2)})]})})]})}),Math.abs(r-d)>.01&&e.jsxs("div",{className:"text-center p-3 bg-red-100 dark:bg-red-900/50 border-t border-red-300 dark:border-red-500/30 text-red-600 dark:text-red-300 font-semibold",children:["Difference: ",(r-d).toFixed(2)]})]})]})};export{B as default};
